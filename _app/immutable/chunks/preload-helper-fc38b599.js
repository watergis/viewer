import{E as a,s as p}from"./index-826da4b2.js";const l=[];function _(n,s=a){let o;const i=new Set;function t(e){if(p(n,e)&&(n=e,o)){const u=!l.length;for(const r of i)r[1](),l.push(r,n);if(u){for(let r=0;r<l.length;r+=2)l[r][0](l[r+1]);l.length=0}}}function c(e){t(e(n))}function f(e,u=a){const r=[e,u];return i.add(r),i.size===1&&(o=s(t)||a),e(n),()=>{i.delete(r),i.size===0&&(o(),o=null)}}return{set:t,update:c,subscribe:f}}const m=function(){const s=document.createElement("link").relList;return s&&s.supports&&s.supports("modulepreload")?"modulepreload":"preload"}(),h=function(n){return"/viewer/_app/"+n},d={},E=function(s,o,i){return!o||o.length===0?s():Promise.all(o.map(t=>{if(t=h(t),t in d)return;d[t]=!0;const c=t.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${f}`))return;const e=document.createElement("link");if(e.rel=c?"stylesheet":m,c||(e.as="script",e.crossOrigin=""),e.href=t,document.head.appendChild(e),c)return new Promise((u,r)=>{e.addEventListener("load",u),e.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>s())};export{E as _,_ as w};
